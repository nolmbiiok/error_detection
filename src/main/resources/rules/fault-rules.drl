package rules

import com.mentoring.entity.FaultEventEntity;

rule "Debug Rule"
when
    $e : FaultEventEntity()
then
    System.out.println("âœ… [DEBUG] ë£° ì‹¤í–‰ë¨ - " + $e.getFaultType());
end

rule "HLS_TIMEOUT 2íšŒ ì´í•˜ëŠ” LOW"
    when
        $event : FaultEventEntity(faultType == "HLS_TIMEOUT", hlsTimeoutCount < 3)
    then
        System.out.println("ğŸ’¡ [RULE TRIGGERED] HLS_TIMEOUT 2íšŒ ì´í•˜ëŠ” LOW");
        $event.setSeverity(FaultEventEntity.Severity.LOW);
        $event.setReason("ì¼ì‹œì  HLS íƒ€ì„ì•„ì›ƒ (ì •ìƒ ê°ì‹œ ë²”ì£¼)");
end

rule "HLS_TIMEOUT 3íšŒ ì´ìƒì€ HIGH"
    when
        $event : FaultEventEntity(faultType == "HLS_TIMEOUT", hlsTimeoutCount >= 3)
    then
        $event.setSeverity(FaultEventEntity.Severity.HIGH);
        $event.setReason("HLS_TIMEOUT ì§€ì† ì¥ì•  ìƒíƒœ");
end


rule "Debug Rule Test"
when
    $e : FaultEventEntity()
then
    System.out.println("ğŸ’¥ Drools ë£°ì´ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤!");
end
